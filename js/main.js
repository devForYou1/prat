function createSvgElement(e,t){let l=document.createElementNS("http://www.w3.org/2000/svg",e);for(let n in t)t.hasOwnProperty(n)&&("xlinkHref"===n?l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t[n]):l.setAttribute(n,t[n]));return l}let currentModalElement=null,lastScrollY=0,scrollbarWidth=0;function getScrollbarWidth(){let e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);let t=document.createElement("div");e.appendChild(t);let l=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),l}function handleEscapeKey(e){"Escape"===e.key&&closeInfoModal()}function closeInfoModal(){document.body.classList.remove("modal-open"),document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.paddingRight="",window.scrollTo(0,lastScrollY),currentModalElement&&currentModalElement.remove(),document.removeEventListener("keydown",handleEscapeKey),currentModalElement=null}function createInfoModalStructure(e,t){let l=document.createElement("div");l.innerHTML=t;let n=l.querySelector("h2"),a=n?n.textContent:"פרטים נוספים",o=document.createElement("div");o.className="custom-modal-backdrop",o.setAttribute("aria-modal","true"),o.setAttribute("role","dialog");let r=document.createElement("div");r.className="custom-modal-content";let s=document.createElement("div");s.className="custom-modal-header";let i=document.createElement("h2");i.className="custom-modal-title",i.textContent=a,i.id="modal-title";let d=document.createElement("button");d.className="custom-modal-close-button",d.innerHTML='<i class="fa-solid fa-xmark"></i>',d.setAttribute("aria-label","Close modal");let u=document.createElement("div");u.className="custom-modal-scrollable-body";let c=document.createElement("div");c.className="custom-modal-body",c.innerHTML=t,u.appendChild(c),s.appendChild(i),s.appendChild(d),r.appendChild(s),r.appendChild(u),o.appendChild(r),d.addEventListener("click",closeInfoModal),document.addEventListener("keydown",handleEscapeKey),o.addEventListener("click",function(e){e.target===o&&closeInfoModal()}),currentModalElement=o,document.body.appendChild(o),document.body.classList.add("modal-open"),lastScrollY=window.scrollY,document.body.style.position="fixed",document.body.style.top=`-${lastScrollY}px`,document.body.style.width="100%",scrollbarWidth=getScrollbarWidth(),document.body.style.paddingRight=`${scrollbarWidth}px`}$(document).ready(function(){function e(e){var t=$(e).next(".accordion-collapse");$(".accordion-collapse.show").not(t).removeClass("show"),t.collapse("toggle"),t.parent().find(".accordion-header").attr("aria-expanded","true"),$(".accordion-item-container").not(e.parent()).removeClass("open"),t.is(":visible")?e.parent().removeClass("open"):e.parent().addClass("open"),$(".accordion-item-container .accordion-header").each(function(){let e=$(this).attr("aria-expanded");"true"==e?$(this).parent().addClass("open"):$(this).parent().removeClass("open")})}function t(e){$(`.${e}`).addClass("show"),$(`.${e}`).prev().find(".accordion-button").attr("aria-expanded","true")}function l(){$(".subcard-button").click(function(){var e=$(this).data("content");createInfoModalStructure("תוכן",e)}),$(".accordion-header-button").click(function(){e(this)})}let n=$("#app-root"),a=$("#app-data").data("app-json");if(!a)return void console.error("Missing JSON data attribute on #app-data element.");try{var salKelimContentData=JSON.parse(a)}catch(r){return void console.error("Failed to parse JSON data from #app-data:",r)}let o=`\n        <div class="main-container-border animate-main-container">\n            <div class="header-container">\n                <h1 class="main-title">סל הכלים למפקד/ת</h1>\n                <p class="intro-paragraph-text">${salKelimContentData.introParagraphText}</p>\n                <p class="motto-text">${salKelimContentData.mottoText}</p>\n                <div class="search-input-container">\n                    <input type="text" id="searchInput" class="search-input" placeholder="${salKelimContentData.searchPlaceholder}">\n                </div>\n            </div>\n            <div id="accordion-container" class="accordion-container my-3">\n                ${salKelimContentData.sections.map((e,t)=>`\n                    <div class="accordion-item-container ${e.isExpanded?"open":""} accordion-item-${t}">\n                        <h2 class="accordion-header">\n                            <button class="accordion-header-button" type="button" aria-expanded="${e.isExpanded}" aria-controls="collapse-${t}">\n                                <img src="${e.icon}" alt="" class="section-icon">\n                                <span>${e.title}</span>\n                            </button>\n                        </h2>\n                        <div id="collapse-${t}" class="accordion-collapse collapse ${e.isExpanded?"show":""}" data-bs-parent="#accordion-container">\n                            <div class="accordion-body">\n                                <div class="sub-cards-container">\n                                    ${e.subsections.map((e,t)=>`\n                                        <button class="subcard-button" data-content='${e.content}'>\n                                            ${e.title}\n                                        </button>\n                                    `).join("")}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                `).join("")}\n            </div>\n            <div class="footer-card">\n                <p class="footer-title">${salKelimContentData.footerText}</p>\n                <div class="footer-links-container">\n                    ${salKelimContentData.footerLinks.map(e=>`\n                        <a href="${e.href}" class="footer-link-square" target="_blank" rel="noopener noreferrer">\n                            <img src="${e.imgSrc}" alt="${e.alt}" class="footer-svg-icon">\n                        </a>\n                    `).join("")}\n                </div>\n            </div>\n        </div>\n    `;n.html(o),l(),$("#searchInput").on("input",function(){let e=$(this).val().toLowerCase(),l=salKelimContentData.sections.map(e=>e.subsections).flat(),n=l.filter(t=>t.title.toLowerCase().includes(e));n.length>0?($("#accordion-container").html(""),salKelimContentData.sections.forEach((o,r)=>{let s=o.subsections.filter(e=>e.title.toLowerCase().includes(e));if(s.length>0){let i=`\n                                <div class="accordion-item-container accordion-item-${r}">\n                                    <h2 class="accordion-header">\n                                        <button class="accordion-header-button" type="button" aria-expanded="false" aria-controls="collapse-${r}">\n                                            <img src="${o.icon}" alt="" class="section-icon">\n                                            <span>${o.title}</span>\n                                        </button>\n                                    </h2>\n                                    <div id="collapse-${r}" class="accordion-collapse collapse" data-bs-parent="#accordion-container">\n                                        <div class="accordion-body">\n                                            <div class="sub-cards-container">\n                                                ${s.map(e=>`\n                                                    <button class="subcard-button" data-content='${e.content}'>\n                                                        ${e.title}\n                                                    </button>\n                                                `).join("")}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            `;$("#accordion-container").append(i)}}),l()):$("#accordion-container").html("<p class=\"text-center mt-4\">לא נמצאו תוצאות לחיפוש.</p>"),l()})})
